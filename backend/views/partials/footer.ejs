    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Global cart functions -->
    <script>
        // Global function để cập nhật số lượng sản phẩm trong giỏ hàng
        function updateCartCount() {
            // Kiểm tra xem có element cart-count không
            const cartCountElement = document.getElementById('cart-count');
            if (!cartCountElement) return;
            
            fetch('/cart', {
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                if (response.ok) {
                    return response.json();
                }
                throw new Error('Network response was not ok');
            })
            .then(data => {
                if (data.items) {
                    const totalItems = data.items.reduce((total, item) => total + item.quantity, 0);
                    if (totalItems > 0) {
                        cartCountElement.textContent = totalItems;
                        cartCountElement.style.display = 'inline';
                    } else {
                        cartCountElement.style.display = 'none';
                    }
                }
            })
            .catch(error => {
                console.error('Error updating cart count:', error);
            });
        }

        // Load cart count khi trang được tải
        document.addEventListener('DOMContentLoaded', function() {
            updateCartCount();
        });
    </script>
</body>
</html>
